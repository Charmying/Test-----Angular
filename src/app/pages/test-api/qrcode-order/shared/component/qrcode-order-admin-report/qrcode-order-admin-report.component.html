<!-- 營業報表 -->
<div class="pt-16">
  <div class="text-h2 mb-4">已完成訂單報表</div>

  <!-- 使用共用按鈕列表作為時段篩選 -->
  <div class="my-8">
    <app-form-button-list
      [form]="form"
      [title]="''"
      [data]="periodOptions"
      formControlName="viewMode"
      [multiple]="false">
    </app-form-button-list>
  </div>

  <!-- 全部訂單統整 -->
  <div class="text-h2 border-b border-solid border-black pb-2 mb-6">{{ viewLabel }}</div>
  <ul class="mb-8">
    <li *ngFor="let item of getConsolidatedItems()" class="mb-4">
      <div class="flex justify-between">
        <div>
          <div class="text-h3 mb-2">{{ item.name }} × {{ item.quantity }}</div>
          <div *ngIf="item.spice" class="text-body1 mb-2">辣度：{{ item.spice }}</div>
          <div *ngIf="item.addons?.length" class="text-body1 mb-2">加料：{{ item.addons?.join(', ') }}</div>
        </div>
        <div class="text-h3 mb-2">＄{{ item.totalPrice }}</div>
      </div>
    </li>
  </ul>
  <div class="text-h1 my-2 p-2 text-end">總收入：{{ filteredTotalRevenue }} 元</div>
</div>

<!-- 清空報表 -->
<div class="my-16 text-center">
  <app-button [text]="'清空報表'" (buttonClick)="clearDatabase()"></app-button>
</div>
